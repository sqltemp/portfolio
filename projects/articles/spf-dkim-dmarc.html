<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SPF, DKIM, DMARC ‚Äî M√©mo pratique pour l‚Äôauthentification des e-mails</title>
  <meta name="description" content="M√©mo professionnel sur SPF, DKIM et DMARC : principes, configuration, priorit√©s de d√©ploiement et contr√¥le op√©rationnel pour PME et particuliers avanc√©s.">
  <style>
    :root {
      --bg: #0a0f16; --panel: #0e1621; --ink: #e8f0ff; --muted: #b5c7e6;
      --accent: #2a7fff; --border: #1b2a3c; --radius: 4px;
      --font-serif: 'Georgia', 'Times New Roman', serif;
    }
    html, body {margin:0;padding:0;background:var(--bg);color:var(--ink);
      font-family:var(--font-serif);font-size:17px;line-height:1.65;}
    header, main {max-width:820px;margin:0 auto;padding:40px 25px;}
    nav.breadcrumb{margin:-8px 0 12px;}
    nav.breadcrumb a{color:var(--muted);text-decoration:none;}
    nav.breadcrumb a:hover{text-decoration:underline;}
    h1{font-size:1.9rem;margin:0 0 6px;font-weight:600;}
    .authors{font-size:0.95rem;color:var(--muted);margin-bottom:14px;}
    p{text-align:justify;margin:0 0 14px;}
    h2{font-size:1.35rem;border-bottom:1px solid var(--border);padding-bottom:4px;margin-top:36px;margin-bottom:14px;}
    h3{font-size:1.1rem;margin:20px 0 8px;font-weight:600;}
    ul{margin:0 0 14px 22px;}
    .panel{background:var(--panel);border:1px solid var(--border);border-radius:var(--radius);
      padding:18px;margin:16px 0;box-shadow:0 8px 22px rgba(0,0,0,.35);}
    .ref{font-size:0.9rem;color:var(--muted);line-height:1.5;margin-left:1.3rem;text-indent:-1.3rem;}
    a{color:var(--accent);text-decoration:none;} a:hover{text-decoration:underline;}
    pre{background:#0b1220;border:1px solid #19263a;border-radius:6px;padding:12px 14px;overflow:auto;}
    .btn{display:inline-block;padding:10px 14px;border-radius:12px;border:1px solid var(--accent);
      background:#0b1b39;color:#dbe7ff;text-decoration:none;}
    .btn:hover{box-shadow:0 10px 20px rgba(42,127,255,.25);}
    .return-bottom{text-align:left;margin-top:28px;}
    .footer-note{font-size:0.9rem;color:var(--muted);margin-top:40px;border-top:1px solid var(--border);padding-top:12px;}
  </style>
</head>

<body>
  <header>
    <!-- üîπ Retour en haut -->
    <nav class="breadcrumb"><a href="./">‚Üê Retour aux articles</a></nav>

    <h1>SPF, DKIM, DMARC ‚Äî M√©mo pratique pour l‚Äôauthentification des e-mails</h1>
    <div class="authors">SQ ‚Äî Solutions SQLTemp / Division Cyberd√©fense</div>
    <p><em>R√©sum√© :</em> Ce m√©mo pr√©sente les m√©canismes <strong>SPF</strong>, <strong>DKIM</strong> et
      <strong>DMARC</strong>, leurs r√¥les compl√©mentaires contre l‚Äôusurpation d‚Äôidentit√© (spoofing) et l‚Äôhame√ßonnage,
      ainsi qu‚Äôune feuille de route de d√©ploiement progressive pour les PME.</p>
  </header>
 <main>
    <section class="panel">
      <h2>1. Introduction</h2>
      <p>Le courrier √©lectronique reste la premi√®re voie d‚Äôattaque en entreprise. L‚Äôauthentification des messages via
      <strong>SPF</strong> (origine autoris√©e), <strong>DKIM</strong> (int√©grit√© & signature) et <strong>DMARC</strong>
      (politique & reporting) permet de r√©duire drastiquement l‚Äôusurpation de domaine et d‚Äôam√©liorer la d√©livrabilit√©.
      Utilis√©s ensemble, ces m√©canismes fournissent un cadre coh√©rent de confiance.</p>
    </section>

    <section class="panel">
      <h2>2. SPF ‚Äî Sender Policy Framework</h2>
      <p><strong>Objectif.</strong> D√©clarer publiquement (DNS) quelles adresses IP/serveurs sont autoris√©s √† envoyer
      des e-mails pour un domaine. Les serveurs destinataires comparent l‚ÄôIP √©mettrice √† cette politique.</p>

      <h3>2.1. Principe et √©valuation</h3>
      <ul>
        <li>Enregistrement <code>TXT</code> au nom du domaine exp√©diteur (ex. <code>example.com</code>).</li>
        <li>M√©canismes cl√©s : <code>ip4</code>, <code>ip6</code>, <code>a</code>, <code>mx</code>, <code>include</code>.</li>
        <li>Qualificatifs : <code>+</code> (pass, implicite), <code>~</code> (softfail), <code>-</code> (fail), <code>?</code> (neutral).</li>
      </ul>

      <h3>2.2. Exemple</h3>
      <pre><code>example.com. 3600 IN TXT "v=spf1 ip4:203.0.113.12 include:_spf.mailprovider.com -all"</code></pre>
      <p class="note">Interpr√©tation : une IP interne autoris√©e, plus l‚Äôop√©rateur SaaS d‚Äôenvoi. Tout le reste est explicitement refus√© (<code>-all</code>).</p>

      <h3>2.3. Bonnes pratiques</h3>
      <ul>
        <li>Limiter les <code>include:</code> pour √©viter les d√©passements de ‚Äú10 DNS lookups‚Äù.</li>
        <li>Documenter l‚Äôinventaire des exp√©diteurs (M365/Google, CRM, outil marketing, factureur, etc.).</li>
        <li>Terminer par <code>-all</code> apr√®s p√©riode d‚Äôobservation (√©viter <code>~all</code> en cible).</li>
      </ul>
    </section>

    <section class="panel">
      <h2>3. DKIM ‚Äî DomainKeys Identified Mail</h2>
      <p><strong>Objectif.</strong> Signer cryptographiquement les messages sortants avec une cl√© priv√©e. Le serveur
      destinataire v√©rifie la signature en r√©cup√©rant la cl√© publique (<code>TXT</code>) dans le DNS du domaine exp√©diteur.</p>

      <h3>3.1. √âl√©ments essentiels</h3>
      <ul>
        <li><strong>S√©lecteur</strong> (<code>selector</code>) : identifiant libre (ex. <code>m365</code>, <code>news</code>) publi√© sous <code>selector._domainkey.example.com</code>.</li>
        <li><strong>Param√®tres</strong> courants : <code>v=DKIM1; k=rsa; p=...</code> (cl√© publique), <code>t=s</code> (test), <code>h=</code> (ent√™tes sign√©s), <code>c=</code> (canonicalisation).</li>
        <li><strong>Tailles de cl√©s</strong> : 2048 bits recommand√©.</li>
      </ul>

      <h3>3.2. Exemple d‚Äôenregistrement DNS</h3>
      <pre><code>m365._domainkey.example.com. 3600 IN TXT "v=DKIM1; k=rsa; p=MIIBIjANBgkqhkiG9w0BAQEFA..."</code></pre>

      <h3>3.3. Bonnes pratiques</h3>
      <ul>
        <li>Un s√©lecteur par plateforme d‚Äôenvoi (M365, outil marketing, ERP). Rotation de cl√©s planifi√©e.</li>
        <li>Signer au minimum <code>From</code>, <code>Subject</code>, <code>Date</code> et les parties MIME principales.</li>
        <li>√âviter la r√©√©criture en route (passerelles alt√©rant les ent√™tes).</li>
      </ul>
    </section>

    <section class="panel">
      <h2>4. DMARC ‚Äî Domain-based Message Authentication, Reporting &amp; Conformance</h2>
      <p><strong>Objectif.</strong> D√©finir une <em>politique</em> d‚Äôacceptation/rejet bas√©e sur les r√©sultats SPF/DKIM
      <em>et</em> leur <strong>alignement</strong> avec le domaine visible dans l‚Äôent√™te <code>From:</code>. Fournit des
      rapports d‚Äôobservation aux propri√©taires du domaine.</p>

      <h3>4.1. Alignement</h3>
      <p>Un message ‚Äúpasse‚Äù DMARC si <strong>SPF align√©</strong> ou <strong>DKIM align√©</strong> est valide.
      L‚Äôalignement signifie que le domaine √©valu√© par SPF/DKIM correspond (relax√© : m√™me domaine racine ; strict : domaine exact)
      au domaine de l‚Äôent√™te <code>From:</code>.</p>

      <h3>4.2. Exemple d‚Äôenregistrement DMARC (phase observation)</h3>
      <pre><code>_dmarc.example.com. 3600 IN TXT "v=DMARC1; p=none; rua=mailto:dmarc-reports@example.com; ruf=mailto:dmarc-forensics@example.com; fo=1; sp=none; adkim=r; aspf=r"</code></pre>

      <h3>4.3. Passage progressif vers l‚Äôapplication</h3>
      <pre><code>_dmarc.example.com. 3600 IN TXT "v=DMARC1; p=quarantine; pct=50; rua=mailto:dmarc-reports@example.com; adkim=s; aspf=s"</code></pre>
      <p class="note">Augmenter <code>pct</code> jusqu‚Äô√† 100, puis <code>p=reject</code> lorsque tous les exp√©diteurs l√©gitimes sont couverts.</p>

      <h3>4.4. Param√®tres utiles</h3>
      <ul>
        <li><code>p=none|quarantine|reject</code> : politique globale.</li>
        <li><code>sp=...</code> : politique pour les sous-domaines.</li>
        <li><code>rua</code>/<code>ruf</code> : adresses de rapports agr√©g√©s/forensic (pr√©voir une bo√Æte d√©di√©e).</li>
        <li><code>fo</code> : granularit√© des rapports d‚Äô√©chec (ex. <code>fo=1</code> pour chaque fail).</li>
        <li><code>adkim</code>/<code>aspf</code> : alignement strict (<code>s</code>) ou relax√© (<code>r</code>).</li>
      </ul>
    </section>

    <section class="panel">
      <h2>5. Feuille de route de d√©ploiement (PME)</h2>
      <ol>
        <li><strong>Inventorier</strong> tous les √©metteurs (suite bureautique, CRM, marketing, ERP, copieurs, helpdesk).</li>
        <li><strong>Activer DKIM</strong> sur chaque plateforme (prioritaire : signature + int√©grit√© visible).</li>
        <li><strong>√âtablir SPF</strong> minimal, tester et converger vers <code>-all</code> (apr√®s validation).</li>
        <li><strong>Publier DMARC</strong> en <code>p=none</code> avec <code>rua</code> ; analyser 2‚Äì4 semaines.</li>
        <li><strong>Corriger</strong> les envois non align√©s (alias, sous-domaines, routage via passerelles).</li>
        <li><strong>Monter</strong> progressivement vers <code>quarantine</code> puis <code>reject</code>, <code>adkim/aspf=s</code> si possible.</li>
        <li><strong>Industrialiser</strong> la rotation DKIM (s√©lecteurs dat√©s) et la revue trimestrielle de SPF.</li>
      </ol>
    </section>

    <section class="panel">
      <h2>6. Contr√¥le &amp; d√©pannage</h2>
      <h3>6.1. Sympt√¥mes courants</h3>
      <ul>
        <li><strong>SPF ‚Äúpermerror‚Äù</strong> : trop de lookups (>10) ou syntaxe incorrecte.</li>
        <li><strong>DKIM ‚Äúfail (body hash)‚Äù</strong> : modification du contenu par une passerelle (banni√®res, disclaimers).</li>
        <li><strong>DMARC ‚Äúfail (unaligned)‚Äù</strong> : le domaine sign√©/√©valu√© ne correspond pas au <code>From:</code>.</li>
      </ul>
      <h3>6.2. Conseils</h3>
      <ul>
        <li>Signer c√¥t√© <em>dernier saut sortant</em> ; √©viter les alt√©rations post-signature.</li>
        <li>Normaliser les adresses <code>From:</code> (pas d‚Äôexp√©dition via domaines tiers sans sous-domaine d√©di√©).</li>
        <li>Cr√©er un sous-domaine d‚Äôenvoi marketing (ex. <code>news.example.com</code>) avec ses propres SPF/DKIM/DMARC.</li>
      </ul>
    </section>

    <section class="panel">
      <h2>7. Extensions utiles</h2>
      <ul>
        <li><strong>BIMI</strong> : affichage du logo de marque chez certains fournisseurs, n√©cessite DMARC √† <code>quarantine/reject</code>.</li>
        <li><strong>ARC</strong> : pr√©serve l‚Äôauthentification √† travers les r√©exp√©ditions/listes (utile mais distinct de DMARC).</li>
      </ul>
    </section>

    <section class="panel">
      <h2>8. Conclusion</h2>
      <p>SPF, DKIM et DMARC fournissent un triptyque coh√©rent : origine autoris√©e, signature v√©rifiable et politique
      d‚Äôapplication avec visibilit√©. Pour les PME, une approche par √©tapes ‚Äî inventaire, DKIM, SPF, DMARC en observation
      puis application ‚Äî maximise la s√©curit√© tout en limitant les faux positifs. La supervision continue des rapports
      DMARC assure la p√©rennit√© du dispositif.</p>
    </section>

    <h2>R√©f√©rences</h2>
    <p class="ref">[1] RFC 7208 ‚Äî Sender Policy Framework (SPF).</p>
    <p class="ref">[2] RFC 6376 ‚Äî DomainKeys Identified Mail (DKIM).</p>
    <p class="ref">[3] RFC 7489 ‚Äî DMARC: Domain-based Message Authentication, Reporting, and Conformance.</p>
    <p class="ref">[4] RFC 8617 ‚Äî BIMI (Brand Indicators for Message Identification), informational drafts &amp; specs.</p>
    <p class="ref">[5] M3AAWG ‚Äî Best Common Practices for Email Senders (deliverability &amp; authentication).</p>


    <!-- üîπ Retour en bas -->
    <div class="return-bottom">
      <a class="btn" href="./">‚Üê Retour √† la page des articles</a>
    </div>

    <div class="footer-note">
      Document pr√©par√© par <strong>Solutions SQLTemp</strong> ‚Äî Novembre 2025. |
      Licence : CC BY-NC 4.0
    </div>
  </main>
</body>
</html>
